% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Seurat.Utils.R
\name{xread2}
\alias{xread2}
\title{Load a .qs object with optional SLURM-based safe-memory check (CBE only)}
\usage{
xread2(
  path,
  nthreads = if (file.size(path) < 1e+07) 1 else 4,
  loadParamsAndAllGenes = TRUE,
  overwriteParams = FALSE,
  overwriteAllGenes = FALSE,
  set_m = TRUE,
  safe_load = TRUE,
  disk2mem_size_inflation = 3,
  ...
)
}
\arguments{
\item{path}{Path to the \code{.qs} file to load. Must exist. Default: none.}

\item{nthreads}{Number of threads for \code{qs::qread()}. Uses 1 if file < 1e7 bytes, else 4.
Default: \code{if (file.size(path) < 1e7) 1 else 4}.}

\item{loadParamsAndAllGenes}{Logical; if \code{TRUE}, recall stored parameters and gene lists
from \code{obj@misc}. Default: \code{TRUE}.}

\item{overwriteParams}{Logical; overwrite existing parameters when recalling. Default: \code{FALSE}.}

\item{overwriteAllGenes}{Logical; overwrite existing \code{all.genes} list. Default: \code{FALSE}.}

\item{set_m}{Logical; if \code{TRUE}, create variable \code{m} in global environment with metadata values.
Default: \code{TRUE}.}

\item{safe_load}{Logical; enable SLURM-based memory safety check. Default: \code{TRUE}.}

\item{disk2mem_size_inflation}{Estimated expansion factor of \code{.qs} file once in memory.
Default: \code{3}.}

\item{...}{Additional arguments passed to \code{qs::qread()}. Default: none.}
}
\value{
Invisibly returns the loaded object.
}
\description{
Loads a \code{.qs} serialized object (e.g., Seurat object or list) with an optional memory-safety
check that prevents loading objects larger than the SLURM job's allocated memory. The memory
check runs \strong{only} when:
\enumerate{
\item \code{safe_load = TRUE}
\item the global variable \code{onCBE} exists and is \code{TRUE}
\item the session is running inside a SLURM job with a defined memory limit
}

If no SLURM memory limit is detected, the safety check is skipped and a warning is shown.
}
\examples{
\dontrun{
obj <- xread2("/path/to/object.qs")
}

}
